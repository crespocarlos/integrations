{
  "name": "__INTEGRATION_POLICY_NAME__",
  "description": "",
  "namespace": "default",
  "policy_id": "elastic-agent-managed-ep",
  "enabled": true,
  "output_id": "",
  "inputs": [
    {
      "type": "logfile",
      "policy_template": "elasticsearch",
      "enabled": true,
      "streams": [
        {
          "enabled": true,
          "data_stream": {
            "type": "logs",
            "dataset": "elasticsearch.audit"
          },
          "vars": {
            "paths": {
              "value": [
                "__ELASTIC_AGENT_LOGS_DIR__/*_audit.json"
              ],
              "type": "text"
            }
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "logs",
            "dataset": "elasticsearch.deprecation"
          },
          "vars": {
            "paths": {
              "value": [
                "__ELASTIC_AGENT_LOGS_DIR__/*_deprecation.json"
              ],
              "type": "text"
            }
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "logs",
            "dataset": "elasticsearch.gc"
          },
          "vars": {
            "paths": {
              "value": [
                "__ELASTIC_AGENT_LOGS_DIR__/gc.log.[0-9]*",
                "__ELASTIC_AGENT_LOGS_DIR__/gc.log"
              ],
              "type": "text"
            }
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "logs",
            "dataset": "elasticsearch.server"
          },
          "vars": {
            "paths": {
              "value": [
                "__ELASTIC_AGENT_LOGS_DIR__/*_server.json"
              ],
              "type": "text"
            }
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "logs",
            "dataset": "elasticsearch.slowlog"
          },
          "vars": {
            "paths": {
              "value": [
                "__ELASTIC_AGENT_LOGS_DIR__/*_index_search_slowlog.json",
                "__ELASTIC_AGENT_LOGS_DIR__/*_index_indexing_slowlog.json"
              ],
              "type": "text"
            }
          }
        }
      ]
    },
    {
      "type": "elasticsearch/metrics",
      "policy_template": "elasticsearch",
      "enabled": true,
      "streams": [
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.ccr"
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.cluster_stats"
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.enrich"
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.index"
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.index_recovery"
          },
          "vars": {
            "active.only": {
              "value": true,
              "type": "bool"
            }
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.index_summary"
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.ml_job"
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.node"
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.node_stats"
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.pending_tasks"
          }
        },
        {
          "enabled": true,
          "data_stream": {
            "type": "metrics",
            "dataset": "elasticsearch.shard"
          }
        }
      ],
      "vars": {
        "hosts": {
          "value": [
            "__ELASTICSEARCH_HOST__"
          ],
          "type": "text"
        },
        "username": {
          "value": "__ELASTICSEARCH_USERNAME__",
          "type": "text"
        },
        "password": {
          "value": "__ELASTICSEARCH_PASSWORD__",
          "type": "password"
        },
        "scope": {
          "value": "node",
          "type": "text"
        }
      }
    }
  ],
  "package": {
    "name": "elasticsearch",
    "title": "Elasticsearch",
    "version": "__PACKAGE_VERSION__"
  }
}
